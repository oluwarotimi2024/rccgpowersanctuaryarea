<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Executive Command | Power Sanctuary HQ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root { 
      --nav-width: 280px; --primary: #050a18; --accent: #c5a059; 
      --bg: #f4f7fa; --success: #25D366; --danger: #ff4757;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: var(--bg); display: flex; color: #333; }

    /* --- SIDEBAR --- */
    .sidebar { width: var(--nav-width); background: var(--primary); height: 100vh; color: white; position: fixed; z-index: 100; }
    .sidebar-header { padding: 40px 30px; border-bottom: 1px solid rgba(255,255,255,0.05); text-align: center;}
    .sidebar-header img { width: 60px; margin-bottom: 15px; border-radius: 50%; border: 2px solid var(--accent); }
    
    .nav-links { list-style: none; padding: 20px; }
    .nav-links li { padding: 15px 20px; margin-bottom: 8px; border-radius: 10px; transition: 0.3s; display: flex; align-items: center; gap: 15px; cursor: pointer; color: #94a3b8; }
    .nav-links li:hover { background: rgba(197, 160, 89, 0.1); color: var(--accent); }
    .nav-links a { color: inherit; text-decoration: none; display: flex; align-items: center; gap: 15px; width: 100% }

    /* --- MAIN CONTENT --- */
    .main-content { margin-left: var(--nav-width); flex: 1; padding: 40px; }
    
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; background: white; padding: 20px 30px; border-radius: 15px; }
    .notif-bell { position: relative; background: var(--bg); width: 45px; height: 45px; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
    .badge { position: absolute; top: -5px; right: -5px; background: var(--danger); color: white; font-size: 0.7rem; padding: 3px 6px; border-radius: 50%; font-weight: bold; }

    /* --- STATS GRID --- */
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .stat-card { background: white; padding: 25px; border-radius: 15px; display: flex; align-items: center; gap: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
    .stat-icon { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }

    /* --- PANELS --- */
    .action-grid { display: grid; grid-template-columns: 1.2fr 1.2fr 1fr; gap: 20px; }
    .panel { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
    .panel h3 { margin-bottom: 15px; font-size: 1.1rem; border-bottom: 1px solid #eee; padding-bottom: 10px; }
    
    textarea { width: 100%; padding: 15px; border: 1px solid #e2e8f0; border-radius: 10px; background: #f8fafc; font-family: inherit; margin-bottom: 10px; resize: none; }
    
    .btn { padding: 12px; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; transition: 0.3s; width: 100%; display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 5px; }
    .btn-push { background: var(--primary); color: var(--accent); }
    .btn-wa { background: var(--success); color: white; }

    /* --- LIVE FEED --- */
    .alert-list { max-height: 400px; overflow-y: auto; }
    .alert-item { padding: 12px; border-bottom: 1px solid #f8fafc; display: flex; gap: 12px; position: relative; }
    .alert-item small { color: #64748b; display: block; }
  </style>
</head>
<body>

<aside class="sidebar">
  <div class="sidebar-header">
    <img src="https://upload.wikimedia.org/wikipedia/en/b/ba/RCCG_Logo.png" alt="RCCG">
    <h3>POWER ADMIN</h3>
  </div>
  <ul class="nav-links">
    <li style="color:var(--accent)"><i class="fa fa-dashboard"></i> Command Center</li>
    <li><a href="index.html"><i class="fa fa-globe"></i> View Website</a></li>
    <li><i class="fa fa-users"></i> Members</li>
    <li><i class="fa fa-video"></i> Sermon Control</li>
  </ul>
</aside>

<main class="main-content">
  <div class="top-bar">
    <div><h2>Executive Dashboard</h2><p id="time-display"></p></div>
    <div class="notif-bell"><i class="fa fa-bell"></i><span class="badge" id="badge-count">0</span></div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon" style="background: rgba(37,211,102,0.1); color: var(--success);"><i class="fa fa-users"></i></div>
      <div class="stat-info"><h4>Live Visitors</h4><h2 id="live-visitors">0</h2></div>
    </div>
    <div class="stat-card">
      <div class="stat-icon" style="background: rgba(255,71,87,0.1); color: var(--danger);"><i class="fa fa-pray"></i></div>
      <div class="stat-info"><h4>Pending Requests</h4><h2 id="stat-requests">0</h2></div>
    </div>
    <div class="stat-card">
      <div class="stat-icon" style="background: rgba(197,160,89,0.1); color: var(--accent);"><i class="fa fa-bolt"></i></div>
      <div class="stat-info"><h4>Service Status</h4><h2 style="font-size: 1rem;">ONLINE</h2></div>
    </div>
  </div>

  <div class="action-grid">
    <div class="panel">
      <h3><i class="fa fa-bullhorn"></i> Global Broadcast</h3>
      <textarea id="broadcastInput" rows="4" placeholder="Update the Website Banner text..."></textarea>
      <button class="btn btn-push" onclick="updateBanner()">PUSH TO WEBSITE</button>
      <button class="btn btn-wa" onclick="sendWA()"><i class="fab fa-whatsapp"></i> SEND TO GROUPS</button>
    </div>

    <div class="panel">
      <h3><i class="fa fa-edit"></i> Live Sermon Notes</h3>
      <textarea id="sermonInput" rows="4" placeholder="Type sermon points here for the Live Page..."></textarea>
      <button class="btn btn-push" onclick="updateNotes()">UPDATE LIVE NOTES</button>
    </div>

    <div class="panel">
      <h3><i class="fa fa-bell"></i> Recent Activity</h3>
      <div class="alert-list" id="alert-list">
        <p style="text-align:center; color:#999; margin-top:20px;">No new alerts</p>
      </div>
    </div>
  </div>
</main>

<script>
  // 1. Live Visitor Tracking Logic
  function trackVisitors() {
      let visitors = JSON.parse(localStorage.getItem('online_visitors')) || {};
      let now = Date.now();
      let activeCount = 0;
      for (let id in visitors) {
          if (now - visitors[id] < 10000) activeCount++;
          else delete visitors[id];
      }
      localStorage.setItem('online_visitors', JSON.stringify(visitors));
      document.getElementById('live-visitors').innerText = activeCount;
  }

  // 2. Sync Prayer/Member Alerts
  function syncAlerts() {
      const alerts = JSON.parse(localStorage.getItem('church_alerts')) || [];
      const container = document.getElementById('alert-list');
      const badge = document.getElementById('badge-count');
      const statReq = document.getElementById('stat-requests');

      badge.innerText = alerts.length;
      statReq.innerText = alerts.length;

      if (alerts.length > 0) {
          container.innerHTML = '';
          alerts.forEach((data, index) => {
              container.insertAdjacentHTML('afterbegin', `
                  <div class="alert-item">
                    <div style="flex:1">
                      <strong>${data.type}: ${data.name}</strong>
                      <small>${data.message}</small>
                    </div>
                    <button onclick="clearItem(${index})" style="border:none; color:red; background:none; cursor:pointer">&times;</button>
                  </div>
              `);
          });
      }
  }

  // 3. Command Functions
  function updateBanner() {
      const msg = document.getElementById('broadcastInput').value;
      localStorage.setItem('live_announcement', msg);
      alert("Website Banner Updated!");
  }

  function updateNotes() {
      const notes = document.getElementById('sermonInput').value;
      localStorage.setItem('live_sermon_notes', notes);
      alert("Sermon Notes Pushed to Live Page!");
  }

  function clearItem(index) {
      let alerts = JSON.parse(localStorage.getItem('church_alerts'));
      alerts.splice(index, 1);
      localStorage.setItem('church_alerts', JSON.stringify(alerts));
      syncAlerts();
  }

  function sendWA() {
      const msg = document.getElementById('broadcastInput').value;
      window.open(`https://wa.me/2349024301199?text=${encodeURIComponent(msg)}`);
  }

  // Initializers
  setInterval(() => {
    trackVisitors();
    syncAlerts();
    document.getElementById('time-display').innerText = new Date().toLocaleTimeString();
  }, 3000);
</script>

</body>
  </html>      </button>
    </div>

    <div class="panel">
      <h3><i class="fa fa-bolt" style="color: var(--accent);"></i> Recent Alerts</h3>
      <div id="alertList">
        <div class="alert-item">
          <div class="alert-icon" style="background: #e1f5fe; color: #03a9f4;"><i class="fa fa-user"></i></div>
          <div>
            <p style="font-size: 0.85rem; font-weight: 600;">New Member Registered</p>
            <small style="color: #bbb;">2 minutes ago</small>
          </div>
        </div>
        <div class="alert-item">
          <div class="alert-icon" style="background: #fff3e0; color: #ff9800;"><i class="fa fa-hands-praying"></i></div>
          <div>
            <p style="font-size: 0.85rem; font-weight: 600;">Urgent Prayer Request</p>
            <small style="color: #bbb;">15 minutes ago</small>
          </div>
        </div>
        <div class="alert-item">
            <div class="alert-icon" style="background: #e8f5e9; color: #4caf50;"><i class="fa fa-comment"></i></div>
            <div>
              <p style="font-size: 0.85rem; font-weight: 600;">New Media Comment</p>
              <small style="color: #bbb;">1 hour ago</small>
            </div>
          </div>
      </div>
    </div>
  </div>
</main>

<script>
  function sendWhatsApp() {
    const msg = document.getElementById('waMessage').value;
    if(!msg) return alert("Please enter a message");
    const phone = "2349024301199"; 
    window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`, '_blank');
  }

  function pushToSite() {
    const msg = document.getElementById('waMessage').value;
    if(!msg) return alert("Enter content to push to website notification bar");
    
    // In a real app, this would update a database. 
    // For now, we simulate the success.
    alert("SUCCESS: Website notification bar updated with: " + msg);
  }

  function toggleNotifPanel() {
    alert("Opening Detailed Notification Logs...");
    document.getElementById('notifCount').innerText = "0";
  }
</script>

</body>
            </html>

