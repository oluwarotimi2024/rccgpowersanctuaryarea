<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unified Hub | Power Sanctuary</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #020617;
      --secondary: #0f172a;
      --accent: #c5a059;
      --glass: rgba(255, 255, 255, 0.03);
      --border: rgba(197, 160, 89, 0.2);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }
    body { 
      font-family: 'Plus Jakarta Sans', sans-serif; 
      background: var(--primary); 
      color: white; 
      height: 100vh; 
      overflow: hidden; 
    }

    /* --- THE UNIFIED HUB GRID --- */
    .unified-hub {
      display: grid;
      grid-template-columns: 280px 1fr 350px;
      grid-template-rows: 70px 1fr;
      height: 100vh;
    }

    /* --- TOP HEADER (Navigation & Status) --- */
    header {
      grid-column: 1 / -1;
      background: var(--secondary);
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 30px;
    }
    .logo { font-weight: 800; color: var(--accent); letter-spacing: 1px; font-size: 1.1rem; }
    .hub-status { background: rgba(16, 185, 129, 0.1); color: #10b981; padding: 6px 15px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; }

    /* --- LEFT SECTION: DIRECTORY & GROUPS --- */
    .left-panel {
      background: var(--secondary);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      padding: 20px 0;
    }
    .section-title { padding: 10px 25px; font-size: 0.7rem; text-transform: uppercase; color: var(--accent); opacity: 0.8; letter-spacing: 1px; }
    .group-pill { margin: 10px 15px; background: var(--glass); border: 1px solid var(--border); padding: 12px; border-radius: 12px; }
    .member-list { flex: 1; overflow-y: auto; padding: 0 15px; }
    .member-card { display: flex; align-items: center; gap: 10px; padding: 10px; border-radius: 8px; margin-bottom: 5px; cursor: pointer; }
    .member-card:hover { background: var(--glass); }
    .avatar { width: 35px; height: 35px; background: var(--accent); color: black; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 0.8rem; }

    /* --- CENTER SECTION: LIVE & CALLS --- */
    .main-stage {
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      background: radial-gradient(circle at top, #0f172a, #020617);
    }
    .video-viewport {
      flex: 1;
      background: #000;
      border-radius: 20px;
      border: 1px solid var(--border);
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
    }
    .call-dashboard {
      background: var(--secondary);
      border: 1px solid var(--border);
      padding: 20px;
      border-radius: 100px;
      display: flex;
      justify-content: space-around;
      align-items: center;
      width: 90%;
      margin: 0 auto;
    }
    .btn-action {
      width: 50px; height: 50px; border-radius: 50%; border: none; 
      cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center;
      background: var(--glass); color: white; border: 1px solid var(--border);
    }
    .btn-action:hover { background: var(--accent); color: black; }
    .btn-call-active { background: #ef4444 !important; color: white !important; animation: pulse-red 2s infinite; }
    @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); } 70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }

    /* --- RIGHT SECTION: UNIFIED CHAT --- */
    .right-panel {
      background: var(--secondary);
      border-left: 1px solid var(--border);
      display: flex;
      flex-direction: column;
    }
    .chat-body { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
    .msg { background: var(--glass); padding: 12px; border-radius: 12px; font-size: 0.9rem; }
    .msg-name { color: var(--accent); font-weight: 700; font-size: 0.75rem; display: flex; align-items: center; gap: 5px; margin-bottom: 5px; }
    .badge { background: var(--accent); color: black; font-size: 0.6rem; padding: 2px 5px; border-radius: 4px; }
    
    .chat-footer { padding: 20px; border-top: 1px solid var(--border); }
    .input-box { background: var(--primary); border: 1px solid var(--border); border-radius: 10px; display: flex; padding: 5px; }
    .input-box input { flex: 1; background: transparent; border: none; color: white; padding: 10px; }
    .input-box button { background: var(--accent); border: none; color: black; padding: 10px 15px; border-radius: 8px; cursor: pointer; font-weight: 800; }

    /* --- MODAL --- */
    #joinModal { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; align-items: center; justify-content: center; }
    .join-card { background: var(--secondary); padding: 40px; border-radius: 20px; border: 1px solid var(--border); text-align: center; width: 380px; }
  </style>
</head>
<body>

<div id="joinModal">
  <div class="join-card">
    <h1 style="color:var(--accent); margin-bottom:10px;">SANCTUARY HUB</h1>
    <p style="color:#64748b; font-size:0.9rem; margin-bottom:20px;">Enter the Family Circle</p>
    <input type="text" id="nameIn" placeholder="Full Name" style="width:100%; padding:15px; background:var(--primary); border:1px solid var(--border); border-radius:10px; color:white; margin-bottom:20px;">
    <button onclick="startHub()" style="width:100%; padding:15px; background:var(--accent); border:none; border-radius:10px; font-weight:800; cursor:pointer;">CONNECT NOW</button>
  </div>
</div>

<div class="unified-hub">
  <header>
    <div class="logo">POWER SANCTUARY <span style="font-weight:300; color:white;">CONSOLE</span></div>
    <div class="hub-status"><i class="fa fa-circle"></i> SYSTEM ONLINE: 1,240 SAINTS</div>
  </header>

  <aside class="left-panel">
    <div class="section-title">Active Fellowship</div>
    <div class="group-pill">
      <div style="font-weight:700; font-size:0.85rem;">Group Alpha</div>
      <div style="font-size:0.75rem; color:#64748b;">492 / 500 Members</div>
      <div style="height:4px; background:#1e293b; margin-top:10px; border-radius:10px; overflow:hidden;">
        <div style="width:98%; height:100%; background:var(--accent);"></div>
      </div>
    </div>

    <div class="section-title">Saints in Sanctuary</div>
    <div class="member-list" id="memberList">
      <div class="member-card"><div class="avatar">P</div> <span>Pastor Sunday</span></div>
      <div class="member-card"><div class="avatar">M</div> <span>Minister Segun</span></div>
    </div>
  </aside>

  <main class="main-stage">
    <div class="video-viewport">
      <iframe src="https://www.youtube.com/embed/live_stream?channel=UC8pAnVToO8R_jS2M7OidG8A" allowfullscreen style="width:100%; height:100%; border:none;"></iframe>
    </div>

    <div class="call-dashboard">
      <button class="btn-action" onclick="toggleCall(this, 'Audio')"><i class="fa fa-microphone"></i></button>
      <button class="btn-action" onclick="toggleCall(this, 'Video')"><i class="fa fa-video"></i></button>
      <div style="text-align:center;">
        <div style="font-weight:800; color:var(--accent); font-size:0.8rem;">VOICE LOBBY</div>
        <div style="font-size:0.65rem; opacity:0.6;">Connect to Altar</div>
      </div>
      <button class="btn-action" onclick="alert('Phone invite sent!')"><i class="fa fa-phone"></i></button>
      <button class="btn-action" onclick="alert('Recording started')"><i class="fa fa-record-vinyl"></i></button>
    </div>
  </main>

  <aside class="right-panel">
    <div class="section-title" style="padding: 20px; border-bottom: 1px solid var(--border);">Live Family Chat</div>
    <div class="chat-body" id="chatBox">
      <div class="msg">
        <div class="msg-name"><span class="badge">ADMIN</span> Minister Rotimi</div>
        <div>Welcome to the unified sanctuary. We are one family in Christ.</div>
      </div>
    </div>
    <div class="chat-footer">
      <div class="input-box">
        <input type="text" id="chatIn" placeholder="Type a message...">
        <button onclick="sendChat()">SEND</button>
      </div>
    </div>
  </aside>
</div>

<script>
  let myName = "";

  function startHub() {
    const n = document.getElementById('nameIn').value;
    if(!n) return;
    myName = n;
    document.getElementById('joinModal').style.display = 'none';
    
    // Add to member list
    const list = document.getElementById('memberList');
    list.innerHTML += `<div class="member-card"><div class="avatar" style="background:white; color:black">${myName[0].toUpperCase()}</div> <span>${myName} (You)</span></div>`;
    
    pushChat("System", `${myName} has joined the circle.`);
  }

  function sendChat() {
    const input = document.getElementById('chatIn');
    if(!input.value) return;
    pushChat(myName, input.value);
    input.value = "";
  }

  function pushChat(sender, message) {
    const box = document.getElementById('chatBox');
    const isMin = sender === "Pastor Sunday" || sender === "System";
    box.innerHTML += `
      <div class="msg">
        <div class="msg-name">${isMin ? '<span class="badge">MINISTER</span>' : ''} ${sender}</div>
        <div>${message}</div>
      </div>`;
    box.scrollTop = box.scrollHeight;
  }

  function toggleCall(btn, type) {
    btn.classList.toggle('btn-call-active');
    const isActive = btn.classList.contains('btn-call-active');
    pushChat("System", `${myName} has ${isActive ? 'joined' : 'left'} the ${type} call.`);
  }

  document.getElementById('chatIn').addEventListener("keyup", e => { if(e.key === "Enter") sendChat(); });
</script>

</body>
  </html>
